# 波形生成用割り込み
## 矩形波
クロック = 16MHz

8分周し、
16MHz / 8 = 2MHz
でカウントアップ

カウントが
REGISTER::freqency << 2 
に達した時割り込み発生

波形の時間軸方向の分解能は 矩形波の場合 8 = 2^3 であるから、再生される周波数 f は
 
 ```
 f = 16MHz / 8 / ((2^11 - REGISTER::frequency) << 1) / 8
   = 125,000 Hz / (2048 - REGISTER::freqency)

 f_max = 125,000Hz
 f_min = 61Hz
```

となる。

波形メモリの場合、時間軸方向の分解能が 16 = 2^4 であるため、矩形波の周波数に比して半分の周波数となる。

### GB音源
参考までに、GB音源の場合

クロック = 4194304Hz

```
f = 4194304 / 32 / (2048 - REGISTER::frequency)
  = 131072 / (2048 - REGISTER::frequency)
```

と、若干計算式が違うため、音色もまた若干違いが生じるものと考えられる。

## 波形メモリ